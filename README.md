# eResearch Status Page

Generate an html status page via shell script. The script is run every minute.

## Features

* Parallel checks
* HTTP, ping, port checks
* HTTP expected status code (401, ...)
* Minimal dependencies (curl, nc and coreutils)
* Easy configuration and customisation
* Tiny (~1kb) optimized result page
* Incident history (manual)

## Adapted From

[bderenzo/tinystatus](https://github.com/bderenzo/tinystatus).


## Updating incidents

Add a new line to incidents.txt. New incidents should be added at the top of the file.

## Adding Checks

The syntax of `checks.csv` file is:
```
Command, Expected Code, Status Text, Host to check
```

Command can be:
* `http` - Check http status
* `ping` - Check ping status 
* `port` - Check open port status

There are also `http4`, `http6`, `ping4`, `ping6`, `port4`, `port6` for IPv4 or IPv6 only check.  
Note: `port4` and `port6` require OpenBSD `nc` binary.

## Testing locally

```shell
docker-compose up --build
```

## TODO

* Branding
* Documentation
* User instructions

## Known Issues

The status page is generated by cron and the default apache home page is displayed for the first minute of operation.